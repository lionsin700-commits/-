// å®šç¾©å››ç¨®äººæ ¼é¡å‹èˆ‡çµæœèªªæ˜
const results = {
    "A": {
        title: "âœ¨ æº«æš–ç™‚ç™’çš„ã€Œæ°´è±šç³»ã€",
        desc: "ä½ çš„å…§å¿ƒä½è‘—ä¸€éš»èˆ‡ä¸–ç„¡çˆ­çš„æ°´è±šã€‚æ€§æ ¼æº«å’Œã€æƒ…ç·’ç©©å®šæ˜¯ä½ æœ€å¤§çš„é­…åŠ›ã€‚åœ¨æœ‹å‹çœ¼ä¸­ï¼Œä½ å°±åƒä¸€å€‹æº«æš–çš„é¿é¢¨æ¸¯ï¼Œç¸½èƒ½åŒ…å®¹å¤§å®¶çš„ç„¦æ…®èˆ‡ä¸å®‰ã€‚ä½ ä¸å¤ªå–œæ­¡èˆ‡äººçˆ­åŸ·ï¼Œèªç‚ºã€Œå¹³éœã€æ‰æ˜¯ç”Ÿæ´»æœ€é«˜çš„æŒ‡å°åŸå‰‡ã€‚é›–ç„¶æœ‰æ™‚å€™æœƒè¢«èªç‚ºå¤ªééš¨æ€§æˆ–ç¼ºä¹ä¸»è¦‹ï¼Œä½†å…¶å¯¦ä½ æ“æœ‰æ¯”èª°éƒ½å¼·å¤§çš„å…§å¿ƒåŠ›é‡ï¼Œé‚£ç¨®ã€Œæ³°å±±å´©æ–¼å‰è€Œè‰²ä¸è®Šã€çš„æ·¡å®šï¼Œæ˜¯ç¾ä»£ç¤¾æœƒæœ€ç¨€ç¼ºçš„è¶…èƒ½åŠ›ã€‚"
    },
    "B": {
        title: "ğŸ”¥ å……æ»¿ç†±æƒ…çš„ã€Œå°ç…å­ç³»ã€",
        desc: "ä½ çš„å…§å¿ƒä½è‘—ä¸€éš»è‡ªä¿¡æ»¿æ»¿çš„å°ç…å­ã€‚ä½ å¤©ç”Ÿè‡ªå¸¶å…‰èŠ’ï¼Œæ“æœ‰æ¥µå¼·çš„è¡Œå‹•åŠ›èˆ‡é ˜å°ç‰¹è³ªã€‚é¢å°æŒ‘æˆ°æ™‚ï¼Œä½ ä¸æœƒè¼•æ˜“é€€ç¸®ï¼Œåè€Œæœƒæ„Ÿåˆ°èˆˆå¥®ã€‚ä½ å¾ˆè¬›ç¾©æ°£ï¼Œå°æ–¼è‡ªå·±èªå®šçš„æœ‹å‹æœƒç„¡æ¢ä»¶ä¿è­·ã€‚ä¸éï¼Œæœ‰æ™‚å€™ä½ å°è‡ªå·±çš„è¦æ±‚å¤ªé«˜ï¼Œå®¹æ˜“è®“è‡ªå·±é™·å…¥éåº¦ç·Šç¹ƒçš„ç‹€æ…‹ã€‚è¨˜å¾—å¶çˆ¾ä¹Ÿè¦å¸ä¸‹ç‹è€…çš„ç›”ç”²ï¼Œå‘èº«é‚Šçš„äººæ’’æ’’å¬Œï¼Œä½ æœƒç™¼ç¾å¤§å®¶å…¶å¯¦éƒ½å¾ˆé¡˜æ„æ”¯æŒä½ ã€‚"
    },
    "C": {
        title: "ğŸ¦‰ ç¸å¯†æ™ºæ…§çš„ã€Œè²“é ­é·¹ç³»ã€",
        desc: "ä½ çš„å…§å¿ƒä½è‘—ä¸€éš»æ´å¯Ÿä¸–äº‹çš„è²“é ­é·¹ã€‚ä½ æ“æœ‰ç´°è†©çš„è§€å¯ŸåŠ›èˆ‡é‚è¼¯æ€è€ƒèƒ½åŠ›ï¼Œå–œæ­¡åœ¨è¡Œå‹•å‰å…ˆåšå¥½å®Œæ•´çš„è¦åŠƒã€‚ä½ ä¸å–œæ­¡æ··äº‚èˆ‡ç„¡åºçš„ç’°å¢ƒï¼Œå°æ–¼ç´°ç¯€éå¸¸è¬›ç©¶ã€‚åœ¨ç¾¤é«”ä¸­ï¼Œä½ é€šå¸¸æ˜¯é‚£å€‹æœ€å†·éœçš„æ™ºå›Šåœ˜ï¼Œå¤§å®¶é‡åˆ°é›£é¡Œéƒ½æœƒæƒ³è½è½ä½ çš„æ„è¦‹ã€‚é›–ç„¶ä½ æœ‰æ™‚æœƒå› ç‚ºéåº¦æ€è€ƒè€Œé¡¯å¾—çŒ¶è±«ä¸æ±ºï¼Œæˆ–è€…çµ¦äººä¸€é»é»è·é›¢æ„Ÿï¼Œä½†æ‡‚ä½ çš„äººéƒ½çŸ¥é“ï¼Œä½ çš„å…§å¿ƒå…¶å¯¦éå¸¸æŸ”è»Ÿä¸”æ·±æƒ…ã€‚"
    },
    "D": {
        title: "ğŸ¦„ è‡ªç”±æµªæ¼«çš„ã€Œç¨è§’ç¸ç³»ã€",
        desc: "ä½ çš„å…§å¿ƒä½è‘—ä¸€éš»å¤©é¦¬è¡Œç©ºçš„ç¨è§’ç¸ã€‚ä½ æ“æœ‰è±å¯Œçš„æƒ³åƒåŠ›èˆ‡å‰µé€ åŠ›ï¼Œä¸å–œæ­¡è¢«å‚³çµ±çš„æ¡†æ¶æŸç¸›ã€‚ä½ çš„æ€ç¶­è·³èºï¼Œå¸¸æœƒæœ‰è®“äººé©šå–œçš„é¬¼é»å­ã€‚ä½ é‡è¦–ã€Œæ„Ÿè¦ºã€èˆ‡ã€Œæ°›åœã€ï¼Œå°æ–¼ç¾çš„äº‹ç‰©æœ‰å¾ˆé«˜çš„æ•éŠ³åº¦ã€‚é›–ç„¶æœ‰æ™‚å€™æœƒè¢«èªç‚ºæœ‰é»ä¸åˆ‡å¯¦éš›æˆ–æƒ…ç·’åŒ–ï¼Œä½†é€™æ­£æ˜¯ä½ éˆé­‚æœ€çè²´çš„éƒ¨åˆ†ã€‚è«‹ç¹¼çºŒä¿æŒé€™ä»½ç´”çœŸèˆ‡ç¨ç‰¹ï¼Œä½ çš„å­˜åœ¨æœ¬èº«å°±ç‚ºé€™å€‹ä¸–ç•Œå¸¶ä¾†äº†è‰²å½©ã€‚"
    }
};

// 10 é“é¡Œç›®ï¼Œæ¯å€‹é¸é …å°æ‡‰ä¸€ç¨®äººæ ¼ (type)
const questions = [
    {
        q: "é€±æœ«çµ‚æ–¼åˆ°äº†ï¼Œä½ æœ€æƒ³åšä»€éº¼ï¼Ÿ",
        options: [
            { text: "å®…åœ¨å®¶è£¡ç¡åˆ°è‡ªç„¶é†’ï¼Œè¿½åŠ‡åƒé›¶é£Ÿ", type: "A" },
            { text: "ç´„ä¸€å¤§ç¾¤æœ‹å‹å»å”±æ­Œæˆ–æˆ¶å¤–æ¢éšª", type: "B" },
            { text: "å»æ›¸åº—æˆ–å’–å•¡å»³ï¼Œå®‰éœåœ°è®€ä¸€æœ¬å¥½æ›¸", type: "C" },
            { text: "æ²’æœ‰è¨ˆç•«ï¼Œéš¨å¿ƒæ‰€æ¬²å»æ²’å»éçš„åœ°æ–¹æ™ƒæ™ƒ", type: "D" }
        ]
    },
    {
        q: "é‡åˆ°å›°é›£çš„ä»»å‹™æ™‚ï¼Œä½ çš„ç¬¬ä¸€å€‹åæ‡‰æ˜¯ï¼Ÿ",
        options: [
            { text: "é›–ç„¶è¦ºå¾—éº»ç…©ï¼Œä½†é‚„æ˜¯æœƒæ…¢æ…¢æŠŠå®ƒåšå®Œ", type: "A" },
            { text: "å¤ªæ£’äº†ï¼é€™æ­£æ˜¯å±•ç¾æˆ‘èƒ½åŠ›çš„æ™‚å€™", type: "B" },
            { text: "å…ˆåˆ†æå•é¡Œçµæ§‹ï¼Œæ“¬å®šä¸‰å€‹è§£æ±ºæ–¹æ¡ˆ", type: "C" },
            { text: "æ†‘ç›´è¦ºå…ˆåšåšçœ‹ï¼Œé‡åˆ°å•é¡Œå†èªª", type: "D" }
        ]
    },
    {
        q: "æœ‹å‹å¿ƒæƒ…ä¸å¥½æ‰¾ä½ å“­è¨´ï¼Œä½ æœƒï¼Ÿ",
        options: [
            { text: "éœéœé™ªåœ¨ä»–èº«é‚Šï¼Œçµ¦ä»–ä¸€å€‹æ“æŠ±", type: "A" },
            { text: "å¸¶ä»–å»å¤§åƒä¸€é “æˆ–ç—›ç½µé‚£å€‹è®“ä»–å‚·å¿ƒçš„äºº", type: "B" },
            { text: "ç†æ€§å¹«ä»–åˆ†æç‹€æ³ï¼Œæä¾›è§£æ±ºå»ºè­°", type: "C" },
            { text: "è¬›ç¬‘è©±æˆ–è½‰ç§»è©±é¡Œï¼Œå¸Œæœ›èƒ½è®“ä»–é–‹å¿ƒèµ·ä¾†", type: "D" }
        ]
    },
    {
        q: "ä¾†åˆ°ä¸€å€‹é™Œç”Ÿçš„æ´¾å°å ´åˆï¼Œä½ æœƒï¼Ÿ",
        options: [
            { text: "æ‰¾å€‹è§’è½æ»‘æ‰‹æ©Ÿï¼Œç­‰äººä¾†æ­è©±", type: "A" },
            { text: "ä¸»å‹•å‡ºæ“Šï¼Œå¾ˆå¿«å°±æˆç‚ºå…¨å ´ç„¦é»", type: "B" },
            { text: "è§€å¯Ÿå¤§å®¶çš„äº’å‹•ï¼Œåªè·Ÿçœ‹èµ·ä¾†é †çœ¼çš„äººèŠ", type: "C" },
            { text: "åˆ°è™•éŠèµ°ï¼Œè¢«æœ‰è¶£çš„è£é£¾æˆ–é£Ÿç‰©å¸å¼•", type: "D" }
        ]
    },
    {
        q: "æŒ‘é¸ç¦®ç‰©é€äººæ™‚ï¼Œä½ æœ€çœ‹é‡ä»€éº¼ï¼Ÿ",
        options: [
            { text: "å¯¦ç”¨æ€§ï¼Œæœ€å¥½æ˜¯ä»–å¹³å¸¸å°±æœƒç”¨åˆ°çš„", type: "A" },
            { text: "å“ç‰Œæˆ–åƒ¹å€¼ï¼Œè¦è®“ä»–è¦ºå¾—å¾ˆæœ‰é¢å­", type: "B" },
            { text: "å¿ƒæ„èˆ‡ç´°ç¯€ï¼Œæœƒè¦ªæ‰‹å¯«å¡ç‰‡æˆ–åŒ…è£", type: "C" },
            { text: "ç¨ç‰¹æ€§ï¼Œæœ€å¥½æ˜¯å¸‚é¢ä¸Šè²·ä¸åˆ°çš„æ€ªæ±è¥¿", type: "D" }
        ]
    },
    {
        q: "å¦‚æœå¯ä»¥é¤Šä¸€ç¨®å¥‡å¹»å¯µç‰©ï¼Œä½ æœƒé¸ï¼Ÿ",
        options: [
            { text: "æœƒåšå®¶äº‹çš„å°ç²¾éˆ", type: "A" },
            { text: "å¸¥æ°£çš„å™´ç«é¾", type: "B" },
            { text: "ç„¡æ‰€ä¸çŸ¥çš„æ™ºæ…§æ¨¹äºº", type: "C" },
            { text: "æœƒè®Šè‰²çš„éš±å½¢è²“", type: "D" }
        ]
    },
    {
        q: "è·Ÿäººç™¼ç”Ÿçˆ­åŸ·æ™‚ï¼Œä½ é€šå¸¸æœƒï¼Ÿ",
        options: [
            { text: "æ²ˆé»˜ä¸èªï¼Œä¸æƒ³æŠŠå ´é¢æåƒµ", type: "A" },
            { text: "æ“šç†åŠ›çˆ­ï¼Œä¸€å®šè¦çˆ­å€‹è¼¸è´", type: "B" },
            { text: "å†·éœåˆ—å‡ºå°æ–¹çš„é‚è¼¯æ¼æ´", type: "C" },
            { text: "è¦ºå¾—å¾ˆç…©ï¼Œå¯èƒ½æœƒç›´æ¥é›¢é–‹ç¾å ´", type: "D" }
        ]
    },
    {
        q: "æ—…è¡Œæ™‚è¿·è·¯äº†ï¼Œä½ æœƒï¼Ÿ",
        options: [
            { text: "æœ‰é»æ…Œå¼µï¼Œè¶•å¿«æ‰¾è·¯äººæ±‚æ•‘", type: "A" },
            { text: "ç›¸ä¿¡è‡ªå·±çš„æ–¹å‘æ„Ÿï¼Œç¹¼çºŒèµ°èµ°çœ‹", type: "B" },
            { text: "ç«‹åˆ»æ‰“é–‹åœ°åœ– App ç¢ºèªåº§æ¨™èˆ‡è·¯ç·š", type: "C" },
            { text: "è¿·è·¯ä¹Ÿæ˜¯ä¸€ç¨®æ¨‚è¶£ï¼Œé †ä¾¿çœ‹çœ‹é¢¨æ™¯", type: "D" }
        ]
    },
    {
        q: "ä½ è¦ºå¾—ä»€éº¼æ¨£çš„ç”Ÿæ´»æœ€å¹¸ç¦ï¼Ÿ",
        options: [
            { text: "å®‰ç©©ã€å¥åº·ï¼Œå®¶äººéƒ½åœ¨èº«é‚Š", type: "A" },
            { text: "å……æ»¿æˆå°±æ„Ÿï¼Œå—äººå°Šæ•¬", type: "B" },
            { text: "æ“æœ‰çŸ¥è­˜èˆ‡æ™ºæ…§ï¼Œç”Ÿæ´»æœ‰ç§©åº", type: "C" },
            { text: "è‡ªç”±è‡ªåœ¨ï¼Œæ¯å¤©éƒ½æœ‰æ–°é®®äº‹", type: "D" }
        ]
    },
    {
        q: "æœ€å¾Œä¸€é¡Œï¼Œæ†‘ç›´è¦ºé¸ä¸€å€‹é¡è‰²ï¼š",
        options: [
            { text: "æº«æš–çš„å¥¶èŒ¶è‰²", type: "A" },
            { text: "è€€çœ¼çš„é®®ç´…è‰²", type: "B" },
            { text: "æ·±é‚ƒçš„è—é’è‰²", type: "C" },
            { text: "å¤¢å¹»çš„å½©è™¹è‰²", type: "D" }
        ]
    }
];

// ... (å‰é¢åŸæœ¬çš„ results å’Œ questions è³‡æ–™éƒ½ä¸ç”¨å‹•) ...
// ç‚ºäº†ç‰ˆé¢æ•´æ½”ï¼Œé€™è£¡æˆ‘çœç•¥è³‡æ–™éƒ¨åˆ†ï¼Œè«‹ä¿ç•™ä½ åŸæœ¬çš„ questions å’Œ results è¨­å®š
// åªè¦æŠŠä¸‹é¢é€™äº›é‚è¼¯ç¨‹å¼ç¢¼æ›´æ–°å³å¯ï¼š

let currentIdx = 0;
let scores = { "A": 0, "B": 0, "C": 0, "D": 0 };

// âœ¨ æ–°å¢ï¼šæŠ“å–å°é¢èˆ‡æ¸¬é©—å€çš„ DOM
const startScreen = document.getElementById("start-screen");
const quizScreen = document.getElementById("quiz-screen");
const startBtn = document.getElementById("start-btn");

const questionEl = document.getElementById("question");
const answerButtonsEl = document.getElementById("answer-buttons");
const nextBtn = document.getElementById("next-btn");

// âœ¨ æ–°å¢ï¼šç¶å®šã€Œé–‹å§‹æŒ‰éˆ•ã€çš„é»æ“Šäº‹ä»¶
startBtn.onclick = () => {
    // 1. éš±è—å°é¢
    startScreen.classList.add("hide");
    // 2. é¡¯ç¤ºæ¸¬é©—å€
    quizScreen.classList.remove("hide");
    // 3. é–‹å§‹è·‘ç¬¬ä¸€é¡Œ
    startQuiz();
};

function startQuiz() {
    currentIdx = 0;
    scores = { "A": 0, "B": 0, "C": 0, "D": 0 };
    nextBtn.classList.add("hide");
    showQuestion();
}

function showQuestion() {
    resetState();
    let currentQuestion = questions[currentIdx];
    questionEl.innerText = `Q${currentIdx + 1}. ${currentQuestion.q}`;

    currentQuestion.options.forEach(opt => {
        const btn = document.createElement("button");
        btn.innerText = opt.text;
        btn.onclick = () => selectAnswer(btn, opt.type);
        answerButtonsEl.appendChild(btn);
    });
}

function resetState() {
    nextBtn.classList.add("hide");
    answerButtonsEl.innerHTML = "";
}

function selectAnswer(selectedBtn, type) {
    scores[type]++;
    const buttons = answerButtonsEl.children;
    Array.from(buttons).forEach(btn => {
        btn.onclick = null;
        if (btn === selectedBtn) {
            btn.classList.add("correct");
        } else {
            btn.style.opacity = "0.5";
        }
    });
    nextBtn.classList.remove("hide");
}

nextBtn.onclick = () => {
    currentIdx++;
    if (currentIdx < questions.length) {
        showQuestion();
    } else {
        showResult();
    }
};

function showResult() {
    resetState();
    const resultType = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
    const resultData = results[resultType];

    questionEl.innerText = "æ¸¬é©—çµæœå‡ºçˆï¼";
    answerButtonsEl.innerHTML = `
        <div style="text-align: left; line-height: 1.6; padding: 0 10px;">
            <h2 style="color: #FF8DA1; text-align: center; margin-bottom: 20px;">${resultData.title}</h2>
            <p style="font-size: 1.1rem; color: #5A4A42;">${resultData.desc}</p>
        </div>
    `;
    
    // âœ¨ ä¿®æ”¹ï¼šæ¸¬é©—çµæŸå¾Œï¼ŒæŒ‰éˆ•æ–‡å­—æ”¹ç‚ºã€Œå›åˆ°é¦–é ã€æˆ–ã€Œå†æ¸¬ä¸€æ¬¡ã€
    nextBtn.innerText = "å†æ¸¬ä¸€æ¬¡";
    nextBtn.classList.remove("hide");
    
    // âœ¨ ä¿®æ”¹ï¼šé»æ“Šé‡ä¾†æ™‚ï¼Œé‚è¼¯ç¨å¾®ä¸åŒ
    nextBtn.onclick = () => {
        // å¦‚æœä½ æƒ³ç›´æ¥é‡ä¾†ä¸å›å°é¢ï¼Œç”¨ startQuiz
        // å¦‚æœæƒ³å›åˆ°å°é¢ï¼Œç”¨ä¸‹é¢é€™å…©è¡Œï¼š
        quizScreen.classList.add("hide");
        startScreen.classList.remove("hide");
    };
}

// âœ¨ æ³¨æ„ï¼šé€™è£¡åŸæœ¬çš„ startQuiz() å‘¼å«è¦æ‹¿æ‰ï¼
// å› ç‚ºç¾åœ¨æ˜¯é é»æ“ŠæŒ‰éˆ•ä¾†è§¸ç™¼ï¼Œä¸æ˜¯ä¸€é€²ä¾†å°±è§¸ç™¼